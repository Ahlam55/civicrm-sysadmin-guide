<?php

/**
 * This array is generated from a spreadsheet here:
 * https://docs.google.com/spreadsheets/d/1kAuXQs6DatSj9Cr6q6DYquuEUNivK9_DvIztVZ_4_3c/edit#gid=0
 */

$pages = [
  [
    'space' => 'CRMDOC',
    'name' => 'Address Settings',
    'destination' => 'config/addresses.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Configuring Address Standardization to work with USPS',
    'destination' => 'config/addresses.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Date Formatting',
    'destination' => 'config/dates.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Directories',
    'destination' => 'config/directories.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Error handling',
    'destination' => 'config/error-handling.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Message Templates',
    'destination' => 'config/message-templates.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Smarty in mail templates',
    'destination' => 'config/message-templates.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Resource URLs',
    'destination' => 'config/resource-urls.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Extensions',
    'destination' => 'customize/extensions.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Override CiviCRM Settings',
    'destination' => 'customize/settings.md'
  ],
  ['space' => 'NEW', 'name' => 'index.md', 'destination' => 'index.md'],
  [
    'space' => 'CRMDOC',
    'name' => 'Installing CiviCRM for Backdrop CMS',
    'destination' => 'install/backdrop.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Installing CiviCRM for Drupal 7',
    'destination' => 'install/drupal7.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Installing CiviCRM for Joomla',
    'destination' => 'install/joomla.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Multi Site Installation',
    'destination' => 'install/multi-site.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'WordPress Installation Guide for CiviCRM',
    'destination' => 'install/wordpress.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'The Bootstrap Base Theme',
    'destination' => 'integration/drupal/bootstrap-css.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviGroup Roles Sync',
    'destination' => 'integration/drupal/group-roles.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Drupal modules incompatible with CiviCRM',
    'destination' => 'integration/drupal/incompatibilities.md'
  ],
  [
    'space' => 'USER',
    'name' => 'website-integration/integrating-with-drupal.md',
    'destination' => 'integration/drupal/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Using Drupal Mailhandler to Archive CiviMail',
    'destination' => 'integration/drupal/mailhandler.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviMember Roles Sync',
    'destination' => 'integration/drupal/member-roles.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Views3 Integration',
    'destination' => 'integration/drupal/views.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Webform CiviCRM Integration',
    'destination' => 'integration/drupal/webform.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Configuring CiviCRM to Use the Default Drupal Editor',
    'destination' => 'integration/drupal/wysiwyg.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Configuring Front-end Contact Dashboard in Joomla! Sites',
    'destination' => 'integration/joomla/dashboard.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Configuring Front-end Profile Listings and Forms in Joomla! Sites',
    'destination' => 'integration/joomla/forms.md'
  ],
  [
    'space' => 'USER',
    'name' => 'website-integration/integrating-with-joomla.md',
    'destination' => 'integration/joomla/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Displaying Public Forms in WordPress Frontend Sites',
    'destination' => 'integration/wordpress/forms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'WordPress plugins and themes incompatible with CiviCRM',
    'destination' => 'integration/wordpress/incompatibilities.md'
  ],
  [
    'space' => 'USER',
    'name' => 'website-integration/integrating-with-wordpress.md',
    'destination' => 'integration/wordpress/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Moving CiviCRM instance from production to staging',
    'destination' => 'misc/staging-production.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Migrating from Joomla to Drupal',
    'destination' => 'misc/switch-cms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Migrating from Drupal to WordPress',
    'destination' => 'misc/switch-cms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Moving an Existing CiviCRM Installation from one Drupal frontend to another',
    'destination' => 'misc/switch-cms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Alternate Moving the database using phpMyAdmin',
    'destination' => 'misc/switch-servers.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Moving an Existing Installation to a New Server or Location',
    'destination' => 'misc/switch-servers.md'
  ],
  [
    'space' => 'USER',
    'name' => 'website-integration/choosing-your-cms.md',
    'destination' => 'planning/cms.md'
  ],
  [
    'space' => 'USER',
    'name' => 'getting-prepared/test-it-out.md',
    'destination' => 'planning/demo.md'
  ],
  [
    'space' => 'USER',
    'name' => 'getting-prepared/hosting.md',
    'destination' => 'planning/hosting.md'
  ],
  [
    'space' => 'USER',
    'name' => 'getting-prepared/identifying-your-needs.md',
    'destination' => 'planning/index.md'
  ],
  [
    'space' => 'USER',
    'name' => 'getting-prepared/transitioning-to-civicrm.md',
    'destination' => 'planning/transition.md'
  ],
  [
    'space' => 'NEW',
    'name' => 'requirements.md',
    'destination' => 'requirements.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviCRM PHP Requirements',
    'destination' => 'requirements.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviCRM MySQL Permission Requirements',
    'destination' => 'requirements.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'checkMysqlTime',
    'destination' => 'requirements.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Manage Access Control Lists (ACLs)',
    'destination' => 'setup/access/acl.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Manage ACL Roles',
    'destination' => 'setup/access/acl.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Assign Users to Roles',
    'destination' => 'setup/access/acl.md'
  ],
  [
    'space' => 'USER',
    'name' => 'initial-set-up/permissions-and-access-control.md',
    'destination' => 'setup/access/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Access Control Context and Overview',
    'destination' => 'setup/access/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Multisites, Multidomain, and Multilevel ACLs',
    'destination' => 'setup/access/multi-level-acl.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Multi-level Organization ACL Permissions',
    'destination' => 'setup/access/multi-level-acl.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CMS Access Control',
    'destination' => 'setup/access/permissions.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Default Permissions and Roles',
    'destination' => 'setup/access/permissions.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Backup Data',
    'destination' => 'setup/backups.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviMail Tactics for Staying Off The Black List',
    'destination' => 'setup/civimail/deliverability.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Bounce Handling',
    'destination' => 'setup/civimail/inbound.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Step-by-step Return Channel on Drupal - Google Apps',
    'destination' => 'setup/civimail/inbound.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Autofiling email activities via EmailProcessor',
    'destination' => 'setup/civimail/inbound.md'
  ],
  [
    'space' => 'USER',
    'name' => 'advanced-configuration/email-system-configuration.md',
    'destination' => 'setup/civimail/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviMail Installation',
    'destination' => 'setup/civimail/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Domain Information',
    'destination' => 'setup/civimail/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviMail in a multisite',
    'destination' => 'setup/civimail/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Outbound Email (SMTP)',
    'destination' => 'setup/civimail/outbound.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'CiviMail Mailer Settings',
    'destination' => 'setup/civimail/outbound.md'
  ],
  [
    'space' => 'USER',
    'name' => 'initial-set-up/civicrm-system-status.md',
    'destination' => 'setup/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Configuring a New Site',
    'destination' => 'setup/index.md'
  ],
  [
    'space' => 'USER',
    'name' => 'initial-set-up/scheduled-jobs.md',
    'destination' => 'setup/jobs.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Managing Scheduled Jobs',
    'destination' => 'setup/jobs.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Running Command-line Scripts via URL',
    'destination' => 'setup/jobs.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Undelete, Logging and ReCAPTCHA - PDF Receipts, Version Checking, CAPTCHA, Link Lifespan, Contact Delete, Attachments, & other Misc. Settings',
    'destination' => 'setup/logging.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Mapping and Geocoding',
    'destination' => 'setup/mapping.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Authorize.net Configuration',
    'destination' => 'setup/payment-processors/authorize-net.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'eProcessing Network Configuration (via Authorize.net Emulation)',
    'destination' => 'setup/payment-processors/authorize-net.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Card Access Services CASConnect Configuration',
    'destination' => 'setup/payment-processors/card-access.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'First Data, Linkpoint, Global Gateway',
    'destination' => 'setup/payment-processors/first-data.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'iATS Payments Configuration',
    'destination' => 'setup/payment-processors/iats.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Payment Processors',
    'destination' => 'setup/payment-processors/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Trouble shooting payment processor setup',
    'destination' => 'setup/payment-processors/index.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Moneris Configuration Guide',
    'destination' => 'setup/payment-processors/moneris.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Setting up Moneris Hosted Payment Processor for CiviCRM',
    'destination' => 'setup/payment-processors/moneris.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Setting up Ogone Payment Processor for CiviCRM',
    'destination' => 'setup/payment-processors/ogone.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'PayFlow Link',
    'destination' => 'setup/payment-processors/payflow.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'PayJunction Configuration',
    'destination' => 'setup/payment-processors/payjunction.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'PayPal Website Payments Standard and Recurring Contributions',
    'destination' => 'setup/payment-processors/paypal.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'PayPal Website Payments Pro and Express Configuration',
    'destination' => 'setup/payment-processors/paypal.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Configuring PayPal API Certificate Credentials',
    'destination' => 'setup/payment-processors/paypal.md'
  ],
  [
    'space' => 'USER',
    'name' => 'initial-set-up/security.md',
    'destination' => 'setup/security.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'checkDirectoriesAreNotBrowseable',
    'destination' => 'setup/security.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'checkUploadsAreNotAccessible',
    'destination' => 'setup/security.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'checkLogFileIsNotAccessible',
    'destination' => 'setup/security.md'
  ],
  [
    'space' => 'USER',
    'name' => 'sms-text-messaging/set-up.md',
    'destination' => 'setup/sms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Setting up a SMS Provider for CiviSMS',
    'destination' => 'setup/sms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Adding Sender ID(s) to your SMS messages (clickatell only)',
    'destination' => 'setup/sms.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'How are Drupal or Joomla Users Linked to CiviCRM Contact Records',
    'destination' => 'setup/users-contacts.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Synchronize Users-to-Contacts',
    'destination' => 'setup/users-contacts.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Cleanup Caches and Update Paths',
    'destination' => 'troubleshooting.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Installation and Configuration Troubleshooting',
    'destination' => 'troubleshooting.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Ensuring Schema Integrity on Upgrades',
    'destination' => 'troubleshooting.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Upgrading CiviCRM for Drupal 7',
    'destination' => 'upgrade/drupal7.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Upgrading CiviCRM for Joomla',
    'destination' => 'upgrade/joomla.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Updating System Workflow Message Templates after Upgrades - method 1 - kdiff',
    'destination' => 'upgrade/misc.md'
  ],
  [
    'space' => 'CRMDOC',
    'name' => 'Upgrading CiviCRM for WordPress',
    'destination' => 'upgrade/wordpress.md'
  ],
];

$cacheDir = __DIR__ . '/cache';
$newContentDir = __DIR__ . '/new-content';
$rootDir = dirname(__DIR__);
$destinationDir = "$rootDir/docs";

$spaces = [
  'CRMDOC' => [
    'action' => 'convert',
    'url' => 'https://wiki.civicrm.org/confluence/display/CRMDOC',
  ],
  'USER' => [
    'action' => 'copy',
    'url' => 'https://raw.githubusercontent.com/civicrm/civicrm-user-guide/master/docs/',
  ],
  'NEW' => [
    'action' => 'copy',
    'url' => $newContentDir,
  ],
];

foreach ($pages as &$page) {
  $page['moniker'] = "{$page['space']}/{$page['name']}";
  $space = $spaces[$page['space']];
  $urlTail = preg_replace('/ /', '+', $page['name']);
  $cacheFileName = preg_replace('@/@', '_', $urlTail);
  $page['cacheFile'] = "$cacheDir/{$page['space']}/$cacheFileName";
  $page['url'] = "{$space['url']}/$urlTail";
  $page['destinationFile'] = "$destinationDir/{$page['destination']}";
  $page['action'] = $space['action'];
}
unset($page);

return $pages;
